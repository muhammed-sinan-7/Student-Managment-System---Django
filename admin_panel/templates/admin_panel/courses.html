{% extends "admin_panel/layout.html" %}

{% block title %}Courses - Admin{% endblock %}
{% block page_title %}Courses Management{% endblock %}

{% block content %}
<div class="space-y-6">
  <!-- Header -->
  <div class="flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between bg-slate-800/80 backdrop-blur-md border border-slate-700/50 rounded-2xl p-6">
    <div>
      <h2 class="text-2xl font-semibold text-slate-100">All Courses</h2>
      <p class="text-slate-400">{{ courses|length }} total courses</p>
    </div>
    <div class="flex flex-col sm:flex-row gap-3 w-full sm:w-auto">
      <input type="text" placeholder="Search courses..." class="flex-1 sm:w-64 px-4 py-2.5 bg-slate-700/50 border border-slate-600/50 rounded-xl text-slate-200 placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-purple-500/50 focus:border-transparent transition-all">
      <a href="{% url 'admin_panel:course_add' %}" class="px-6 py-2.5 bg-gradient-to-r from-orange-500 to-amber-600 hover:from-orange-600 hover:to-amber-700 text-white font-medium rounded-xl shadow-lg hover:shadow-xl transition-all whitespace-nowrap">
        <i class="ri-add-line mr-1"></i>Add Course
      </a>
    </div>
  </div>

  <!-- Courses List - Compact Rows -->
  <div class="bg-slate-800/80 backdrop-blur-md border border-slate-700/50 rounded-3xl shadow-xl overflow-hidden">
    <div class="overflow-x-auto">
      <table class="w-full">
        <thead class="bg-slate-700/50 border-b border-slate-600/50">
          <tr>
            <th class="px-6 py-4 text-left text-xs font-semibold text-slate-300 uppercase tracking-wider">Course ID</th>
            <th class="px-6 py-4 text-left text-xs font-semibold text-slate-300 uppercase tracking-wider">Course Name</th>
            <th class="px-6 py-4 text-left text-xs font-semibold text-slate-300 uppercase tracking-wider">Duration</th>
            <th class="px-6 py-4 text-right text-xs font-semibold text-slate-300 uppercase tracking-wider">Fee</th>
            <th class="px-6 py-4 text-xs font-semibold text-slate-300 uppercase tracking-wider text-center">Students</th>
            <th class="px-6 py-4 text-xs font-semibold text-slate-300 uppercase tracking-wider w-32">Actions</th>
          </tr>
        </thead>
        <tbody class="divide-y divide-slate-700/50">
          {% for course in courses %}
          <tr class="hover:bg-slate-700/50 transition-colors group">
            <!-- Course ID -->
            <td class="px-6 py-4 whitespace-nowrap">
              <span class="bg-gradient-to-r from-orange-500/20 to-amber-500/20 text-orange-300 px-3 py-1 rounded-full text-sm font-mono">
                {{ course.id }}
              </span>
            </td>
            
            <!-- Course Name -->
            <td class="px-6 py-4">
              <div class="font-semibold text-slate-200 text-lg truncate max-w-md">
                {{ course.name }}
              </div>
              <div class="text-sm text-slate-400 mt-1">
                {{ course.description|truncatechars:60|default:"No description" }}
              </div>
            </td>
            
            <!-- Duration -->
            <td class="px-6 py-4 whitespace-nowrap">
              <span class="px-3 py-1 bg-blue-500/20 text-blue-300 rounded-full text-sm font-medium">
                {{ course.duration|default:"N/A" }}
              </span>
            </td>
            
            <!-- Fee -->
            <td class="px-6 py-4 text-right">
              <div class="text-2xl font-bold bg-gradient-to-r from-emerald-400 to-teal-400 bg-clip-text text-transparent">
                â‚¹{{ course.fees }}
              </div>
              <div class="text-xs text-slate-500 mt-1">Per course</div>
            </td>
            
            <!-- Students Count -->
            <td class="px-6 py-4 text-center">
              <div class="flex items-center justify-center space-x-1">
                <i class="ri-group-line text-emerald-400"></i>
                <span class="font-semibold text-slate-200">{{ course.students.count }}</span>
              </div>
            </td>
            
            <!-- Actions -->
            <td class="px-6 py-4 whitespace-nowrap text-right">
              <div class="flex items-center justify-end space-x-2">
                <a href="#" class="p-2.5 text-slate-400 hover:text-blue-400 hover:bg-blue-500/20 rounded-xl transition-all group-hover:scale-105" title="View Details">
                  <i class="ri-eye-line text-lg"></i>
                </a>
                <a href="#" class="p-2.5 text-slate-400 hover:text-purple-400 hover:bg-purple-500/20 rounded-xl transition-all group-hover:scale-105" title="Edit Course">
                  <i class="ri-edit-2-line text-lg"></i>
                </a>
                <button class="p-2.5 text-slate-400 hover:text-red-400 hover:bg-red-500/20 rounded-xl transition-all group-hover:scale-105" title="Delete Course">
                  <i class="ri-delete-bin-line text-lg"></i>
                </button>
              </div>
            </td>
          </tr>
          {% empty %}
          <tr>
            <td colspan="6" class="px-6 py-12 text-center">
              <i class="ri-book-line text-6xl text-slate-600 mb-4 mx-auto block"></i>
              <p class="text-xl text-slate-400 font-medium mb-2">No courses found</p>
              <p class="text-slate-500">Get started by adding your first course</p>
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>

  <!-- Pagination -->
  <div class="flex items-center justify-between pt-6 border-t border-slate-700/50">
    <span class="text-sm text-slate-400">Showing {{ courses|length }} courses</span>
    <div class="flex items-center space-x-2">
      <button class="p-2 text-slate-400 hover:text-slate-200 rounded-xl hover:bg-slate-700/50 transition-colors px-4 py-2">Previous</button>
      <button class="px-8 py-2 bg-gradient-to-r from-purple-500 to-indigo-600 text-white font-medium rounded-xl shadow-lg hover:shadow-xl transition-all">Next</button>
    </div>
  </div>
</div>
{% endblock %}
