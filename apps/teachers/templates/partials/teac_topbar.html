<nav
  class="navbar navbar-expand-lg navbar-dark shadow-sm py-2"
  style="background: linear-gradient(90deg, #1e3a8a, #7c3aed)"
>
  <div class="container-fluid px-3">
    <!-- Brand -->
    <a class="navbar-brand d-flex align-items-center gap-2 px-1">
      <i class="bi bi-mortarboard-fill fs-3"></i>
      <span class="fw-bold fs-4">Academex</span>
      <span class="badge bg-light text-primary small fs-5 ms-5">Teacher Panel</span>
    </a>

    <!-- Right side -->
    <div class="d-flex align-items-center ms-auto gap-3">
      {% if request.user.is_authenticated %}
      <!-- User name -->
      <div class="d-none d-md-flex flex-column text-end">
        <span class="text-white-50 small">Welcome back,</span>
        <span class="fw-semibold fs-6">
          {{ request.user.teacher.name|default:request.user.email }}
        </span>
      </div>

      <!-- Notifications -->
      <button
        class="btn btn-outline-light position-relative rounded-circle d-flex align-items-center justify-content-center"
        style="width: 42px; height: 42px"
      >
        <i class="bi bi-bell fs-5"></i>
        <span
          class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-warning text-dark"
        >
          5
        </span>
      </button>

      <!-- User dropdown -->
      <div class="dropdown">
        <button
          class="btn btn-light d-flex align-items-center gap-2 px-3 py-2 rounded-pill dropdown-toggle"
          type="button"
          id="teacherMenu"
          data-bs-toggle="dropdown"
          aria-expanded="false"
        >
          <div
            class="rounded-circle d-flex align-items-center justify-content-center"
            style="
              width: 40px;
              height: 40px;
              background: linear-gradient(135deg, #ddd6fe, #c4b5fd);
              overflow: hidden;
            "
          >
            {% if request.user.teacher.photo %}
            <img
              src="{{ request.user.teacher.photo.url }}"
              alt="{{ request.user.teacher.name }}"
              style="
                width: 40px;
                height: 40px;
                object-fit: cover;
                border-radius: 50%;
              "
            />
            {% else %}
            <span class="fw-bold fs-5" style="color: #5b21b6">
              {{ request.user.teacher.name|default:request.user.email|first|upper }}
            </span>
            {% endif %}
          </div>
          <span class="fw-medium d-none d-md-inline fs-6">My Account</span>
        </button>

        <ul
          class="dropdown-menu dropdown-menu-end shadow-sm border-0"
          aria-labelledby="teacherMenu"
        >
          <li class="px-3 py-2 bg-light">
            <small class="text-muted text-uppercase fw-semibold" style="font-size: 0.7rem; letter-spacing: 0.05em;">Teacher Panel</small>
          </li>

          <li>
            <form method="post" action="{% url 'accounts:logout' %}" class="m-0">
              {% csrf_token %}
              <button type="submit" class="dropdown-item py-2 text-danger">
                <i class="bi bi-box-arrow-right me-2"></i> Logout
              </button>
            </form>
          </li>
        </ul>
      </div>

      {% else %}
      <!-- Login/Register -->
      <a
        href="{% url 'accounts:login' %}"
        class="btn btn-light fw-semibold px-4 py-2 rounded-pill"
      >
        Login
      </a>
      <a
        href="{% url 'accounts:register' %}"
        class="btn btn-outline-light fw-semibold px-4 py-2 rounded-pill"
      >
        Register
      </a>
      {% endif %}
    </div>
  </div>
</nav>
